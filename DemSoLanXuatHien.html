<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function count(arr, data) {
        var count = 0;
        var poisition = binSearch(arr, data);
        if (poisition > -1) {
            count++;
            for (let i = poisition - 1;i > 0;--i) {
                if (arr[i] === data) {
                    count++;
                } else {
                    break;
                }
            }
            for (let i = poisition + 1;i < arr.length;++i){
                if (arr[i]===data){
                    count++;
                }else{
                    break;
                }
            }
        }
        return count;
    }
    function binSearch(arr, data) {
        let firt = 0;
        let last = arr.length-1;
        while (firt <= last) {
            let mid = Math.floor((firt + last) / 2);
            if (data === arr[mid]) {
                return mid;
            } else if (data < arr[mid]) {
                last = mid - 1;
            } else if (data > arr[mid]) {
                firt = mid + 1;
            } else {
                return -1;
            }
        }
    }
    function hienThi(arr) {
        for (let i = 0; i < arr.length-1; i++) {
            document.write(arr[i] + "  ");
            if (i % 10 === 9) {
                document.write("<br>");
            }
        }
    }
    function insertionsort(arr) {
        arr.sort(function (a, b) {return (a - b)});
    }
    //khai báo
    nums = [];
    for (let i = 0; i < 100; i++) {
        nums[i] = Math.floor(Math.random() * 101);
        nums.push(nums[i]);
    }
    //sắp xếp
    insertionsort(nums);
    hienThi(nums);
    let val = parseInt(prompt("Nhập phần tử muốn tìm kiếm"));
    var retVal = count(nums, val);
    document.write("Found " + retVal + " occurrences of " + val + ".");
</script>
</body>
</html>